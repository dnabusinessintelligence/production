var fs          = require('fs')
var helper      = require('./lib/helper.js')
var chai        = require('chai')

var expect      = chai.expect

    
describe('Screenshots', function () {
    
    it('Should be possible to make/compare the screenshots', function (done) {
        
        this.timeout(90000 * 3)
        
        helper.runScreenshotSuite({}, function (res) {
            
            helper.runScreenshotSuite({ 
                $tmpName                            : res.$tmpName,
                'screenshot-compare-with-previous'  : true
            }, function (res) {
                
                helper.runScreenshotSuite({ 
                    'screenshot-compare-with-base'  : res.$tmpName
                }, function (res) {
                    done()
                })
            })
        })
    });
});
