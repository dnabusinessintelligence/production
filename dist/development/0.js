exports.ids = [0];
exports.modules = {

/***/ "./src/tooltip/Base.mjs":
/*!******************************!*\
  !*** ./src/tooltip/Base.mjs ***!
  \******************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Base; });
/* harmony import */ var _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _util_Floating_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Floating.mjs */ "./src/util/Floating.mjs");
/* harmony import */ var _component_Label_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../component/Label.mjs */ "./src/component/Label.mjs");




/**
 * Base class for component tooltips
 * @class Neo.tooltip.Base
 * @extends Neo.container.Base
 */
class Base extends _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static getConfig() {return {
        /**
         * @member {String} className='Neo.tooltip.Base'
         * @private
         */
        className: 'Neo.tooltip.Base',
        /**
         * @member {String} ntype='tooltip'
         * @private
         */
        ntype: 'tooltip',
        /**
         * @member {String[]} cls=['neo-tooltip']
         */
        cls: ['neo-tooltip'],
        /**
         * A reference to the target component which is supposed to show this tooltip on mouseenter
         * @member {String|null} componentId_=null
         */
        componentId_: null,
        /**
         * Delegates down to a CSS selector inside the target component
         * @member {String|null} delegate=null
         */
        delegate: null,
        /**
         * The delay in ms before the tooltip gets hidden while hovering the target element.
         * Use null to disable the dismiss logic.
         * @member {Number|null} dismissDelay=10000
         */
        dismissDelay: 10000,
        /**
         * The dismissDelay task id generated by setTimeout()
         * @member {Number|null} dismissDelayTaskId=null
         * @private
         */
        dismissDelayTaskId: null,
        /**
         * The delay in ms before the tooltip gets shown
         * @member {Number|null} hideDelay=400
         */
        hideDelay: 400,
        /**
         * The showDelay task id generated by setTimeout()
         * @member {Number|null} hideDelayTaskId=null
         * @private
         */
        hideDelayTaskId: null,
        /**
         * @member {Array} mixins
         * @private
         */
        mixins: [_util_Floating_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]],
        /**
         * The delay in ms before the tooltip gets shown
         * @member {Number|null} showDelay=200
         */
        showDelay: 200,
        /**
         * The showDelay task id generated by setTimeout()
         * @member {Number|null} showDelayTaskId=null
         * @private
         */
        showDelayTaskId: null,
        /**
         * True prevents the tooltip from hiding while the mouse cursor is above it
         * @member {Boolean|null} stayOnHover_=true
         */
        stayOnHover_: true,
        /**
         * Shortcut to add a label item
         * @member {String} text_=null
         */
        text_: null
    }}

    /**
     * Triggered after the componentId config got changed
     * @param {String} value
     * @param {String} oldValue
     * @private
     */
    afterSetComponentId(value, oldValue) {
        if (oldValue) {
            // todo: remove the component domListeners
        }

        if (value) {
            let me           = this,
                component    = Neo.getComponent(value),
                domListeners = component.domListeners || [];

            domListeners.push({
                mouseenter: me.showDelayed,
                delegate  : me.delegate,
                scope     : me
            }, {
                mouseleave: me.hideDelayed,
                delegate  : me.delegate,
                scope     : me
            });

            component.domListeners = domListeners;
        }
    }

    /**
     * Triggered after the stayOnHover config got changed
     * @param {Boolean} value
     * @param {Boolean} oldValue
     * @private
     */
    afterSetStayOnHover(value, oldValue) {
        if (oldValue) {
            // todo: remove the component domListeners
        }

        if (value) {
            let me           = this,
                domListeners = me.domListeners || [];

            domListeners.push({
                mouseenter: me.onMouseEnter,
                scope     : me
            }, {
                mouseleave: me.onMouseLeave,
                scope     : me
            });

            me.domListeners = domListeners;
        }
    }

    /**
     * Triggered after the text config got changed
     * @param {Boolean} value
     * @param {Boolean} oldValue
     * @private
     */
    afterSetText(value) {
        if (value) {
            let me    = this,
                items = me.items || [],
                item  = items[0];

            if (item && item.ntype === 'label') {
                item.text = value;
            } else {
                items.push({
                    module: _component_Label_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
                    text  : value
                });

                me.items = items;
            }
        }
    }

    /**
     * Clears one or multiple setTimeout call(s)
     * @param {String[]|String} timers valid values: dismiss, hide, show
     */
    clearTimeout(timers) {
        if (!Array.isArray(timers)) {
            timers = [timers];
        }

        let me = this,
            id;

        timers.forEach(timer => {
            id = timer + 'DelayTaskId';

            if (me[id]) {
                clearTimeout(me[id]);
                me[id] = null;
            }
        });
    }

    /**
     * Instantly hides the tooltip
     * @param {Object|null} data
     */
    hide(data) {
        let me = this;

        me.clearTimeout(['dismiss', 'hide', 'show']);

        if (me.mounted) {
            me.unmount();
        }
    }

    /**
     * Hides the tooltip using the given hideDelay
     * @param {Object|null} data
     */
    hideDelayed(data) {
        let me = this;

        if (me.hideDelay) {
            me.hideDelayTaskId = setTimeout(me.hide.bind(me), me.hideDelay, data);
        } else {
            me.hide(data);
        }
    }

    /**
     * mouseenter event listener for the tooltip element
     * @param {Object} data
     */
    onMouseEnter(data) {
        let me       = this,
            targetId = data.path[0].id;

        // only use path[0] based events to ignore mouseenter & leave for child nodes
        if (me.id === targetId) {
            me.clearTimeout(['dismiss', 'hide']);
        }
    }

    /**
     * mouseleave event listener for the tooltip element
     * @param {Object} data
     */
    onMouseLeave(data) {
        let me       = this,
            targetId = data.path[0].id;

        // only use path[0] based events to ignore mouseenter & leave for child nodes
        if (me.id === targetId) {
            me.hideDelayed(null);
        }
    }

    /**
     * Instantly shows the tooltip
     * @param {Object} data
     */
    show(data) {
        let me = this;

        me.showDelayTaskId = null;

        me.clearTimeout('hide');

        if (me.dismissDelay) {
            me.dismissDelayTaskId = setTimeout(me.hide.bind(me), me.dismissDelay, data);
        }

        if (!me.mounted) {
            me.mount();
        }
    }

    /**
     * Shows the tooltip using the given showDelay
     * @param {Object} data
     */
    showDelayed(data) {
        let me = this;

        if (me.showDelay) {
            me.showDelayTaskId = setTimeout(me.show.bind(me), me.showDelay, data);
        } else {
            me.show(data);
        }
    }
}

Neo.applyClassConfig(Base);



/***/ }),

/***/ "./src/util/Floating.mjs":
/*!*******************************!*\
  !*** ./src/util/Floating.mjs ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./src/core/Base.mjs");


/**
 * Mixin to make Components floating (e.g. Windows)
 * @class Neo.util.Floating
 * @extends Neo.core.Base
 */
class Floating extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static getConfig() {return {
        /**
         * @member {String} className='Neo.util.Floating'
         * @private
         */
        className: 'Neo.util.Floating',
        /**
         * @member {String} ntype='mixin-floating'
         * @private
         */
        ntype: 'mixin-floating',
        /**
         * @member {Boolean} mixin=true
         */
        mixin: true,
        /**
         * @member {String|null} animateTargetId=null
         */
        animateTargetId: null,
        /**
         * @member {Boolean} modal_=false
         */
        modal_: false
    }}
}

Neo.applyClassConfig(Floating);

/* harmony default export */ __webpack_exports__["default"] = (Floating);

/***/ })

};;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdG9vbHRpcC9CYXNlLm1qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9GbG9hdGluZy5tanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTJEO0FBQ0Q7QUFDRTs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyREFBUztBQUM1Qix3QkFBd0I7QUFDeEI7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBLGlCQUFpQiwwREFBUTtBQUN6QjtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGFBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsNEJBQTRCLDREQUFLO0FBQ2pDO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7QUN6UkE7QUFBQTtBQUFvQzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzREFBSTtBQUMzQix3QkFBd0I7QUFDeEI7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRWUsdUVBQVEsRSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkZWZhdWx0IGFzIENvbnRhaW5lcn0gZnJvbSAnLi4vY29udGFpbmVyL0Jhc2UubWpzJztcclxuaW1wb3J0IEZsb2F0aW5nICAgICAgICAgICAgICAgZnJvbSAnLi4vdXRpbC9GbG9hdGluZy5tanMnO1xyXG5pbXBvcnQgTGFiZWwgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb21wb25lbnQvTGFiZWwubWpzJztcclxuXHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBjb21wb25lbnQgdG9vbHRpcHNcclxuICogQGNsYXNzIE5lby50b29sdGlwLkJhc2VcclxuICogQGV4dGVuZHMgTmVvLmNvbnRhaW5lci5CYXNlXHJcbiAqL1xyXG5jbGFzcyBCYXNlIGV4dGVuZHMgQ29udGFpbmVyIHtcclxuICAgIHN0YXRpYyBnZXRDb25maWcoKSB7cmV0dXJuIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLnRvb2x0aXAuQmFzZSdcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsYXNzTmFtZTogJ05lby50b29sdGlwLkJhc2UnLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbnR5cGU9J3Rvb2x0aXAnXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBudHlwZTogJ3Rvb2x0aXAnLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBjbHM9WyduZW8tdG9vbHRpcCddXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xzOiBbJ25lby10b29sdGlwJ10sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIHRhcmdldCBjb21wb25lbnQgd2hpY2ggaXMgc3VwcG9zZWQgdG8gc2hvdyB0aGlzIHRvb2x0aXAgb24gbW91c2VlbnRlclxyXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ3xudWxsfSBjb21wb25lbnRJZF89bnVsbFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbXBvbmVudElkXzogbnVsbCxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZWxlZ2F0ZXMgZG93biB0byBhIENTUyBzZWxlY3RvciBpbnNpZGUgdGhlIHRhcmdldCBjb21wb25lbnRcclxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd8bnVsbH0gZGVsZWdhdGU9bnVsbFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRlbGVnYXRlOiBudWxsLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBkZWxheSBpbiBtcyBiZWZvcmUgdGhlIHRvb2x0aXAgZ2V0cyBoaWRkZW4gd2hpbGUgaG92ZXJpbmcgdGhlIHRhcmdldCBlbGVtZW50LlxyXG4gICAgICAgICAqIFVzZSBudWxsIHRvIGRpc2FibGUgdGhlIGRpc21pc3MgbG9naWMuXHJcbiAgICAgICAgICogQG1lbWJlciB7TnVtYmVyfG51bGx9IGRpc21pc3NEZWxheT0xMDAwMFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRpc21pc3NEZWxheTogMTAwMDAsXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGRpc21pc3NEZWxheSB0YXNrIGlkIGdlbmVyYXRlZCBieSBzZXRUaW1lb3V0KClcclxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ8bnVsbH0gZGlzbWlzc0RlbGF5VGFza0lkPW51bGxcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRpc21pc3NEZWxheVRhc2tJZDogbnVsbCxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgZGVsYXkgaW4gbXMgYmVmb3JlIHRoZSB0b29sdGlwIGdldHMgc2hvd25cclxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ8bnVsbH0gaGlkZURlbGF5PTQwMFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGhpZGVEZWxheTogNDAwLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBzaG93RGVsYXkgdGFzayBpZCBnZW5lcmF0ZWQgYnkgc2V0VGltZW91dCgpXHJcbiAgICAgICAgICogQG1lbWJlciB7TnVtYmVyfG51bGx9IGhpZGVEZWxheVRhc2tJZD1udWxsXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBoaWRlRGVsYXlUYXNrSWQ6IG51bGwsXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXl9IG1peGluc1xyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbWl4aW5zOiBbRmxvYXRpbmddLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBkZWxheSBpbiBtcyBiZWZvcmUgdGhlIHRvb2x0aXAgZ2V0cyBzaG93blxyXG4gICAgICAgICAqIEBtZW1iZXIge051bWJlcnxudWxsfSBzaG93RGVsYXk9MjAwXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2hvd0RlbGF5OiAyMDAsXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIHNob3dEZWxheSB0YXNrIGlkIGdlbmVyYXRlZCBieSBzZXRUaW1lb3V0KClcclxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ8bnVsbH0gc2hvd0RlbGF5VGFza0lkPW51bGxcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNob3dEZWxheVRhc2tJZDogbnVsbCxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUcnVlIHByZXZlbnRzIHRoZSB0b29sdGlwIGZyb20gaGlkaW5nIHdoaWxlIHRoZSBtb3VzZSBjdXJzb3IgaXMgYWJvdmUgaXRcclxuICAgICAgICAgKiBAbWVtYmVyIHtCb29sZWFufG51bGx9IHN0YXlPbkhvdmVyXz10cnVlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RheU9uSG92ZXJfOiB0cnVlLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNob3J0Y3V0IHRvIGFkZCBhIGxhYmVsIGl0ZW1cclxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IHRleHRfPW51bGxcclxuICAgICAgICAgKi9cclxuICAgICAgICB0ZXh0XzogbnVsbFxyXG4gICAgfX1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgY29tcG9uZW50SWQgY29uZmlnIGdvdCBjaGFuZ2VkXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRWYWx1ZVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgYWZ0ZXJTZXRDb21wb25lbnRJZCh2YWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICBpZiAob2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gdG9kbzogcmVtb3ZlIHRoZSBjb21wb25lbnQgZG9tTGlzdGVuZXJzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IG1lICAgICAgICAgICA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQgICAgPSBOZW8uZ2V0Q29tcG9uZW50KHZhbHVlKSxcclxuICAgICAgICAgICAgICAgIGRvbUxpc3RlbmVycyA9IGNvbXBvbmVudC5kb21MaXN0ZW5lcnMgfHwgW107XHJcblxyXG4gICAgICAgICAgICBkb21MaXN0ZW5lcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBtZS5zaG93RGVsYXllZCxcclxuICAgICAgICAgICAgICAgIGRlbGVnYXRlICA6IG1lLmRlbGVnYXRlLFxyXG4gICAgICAgICAgICAgICAgc2NvcGUgICAgIDogbWVcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogbWUuaGlkZURlbGF5ZWQsXHJcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZSAgOiBtZS5kZWxlZ2F0ZSxcclxuICAgICAgICAgICAgICAgIHNjb3BlICAgICA6IG1lXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29tcG9uZW50LmRvbUxpc3RlbmVycyA9IGRvbUxpc3RlbmVycztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHN0YXlPbkhvdmVyIGNvbmZpZyBnb3QgY2hhbmdlZFxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvbGRWYWx1ZVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgYWZ0ZXJTZXRTdGF5T25Ib3Zlcih2YWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICBpZiAob2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gdG9kbzogcmVtb3ZlIHRoZSBjb21wb25lbnQgZG9tTGlzdGVuZXJzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IG1lICAgICAgICAgICA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBkb21MaXN0ZW5lcnMgPSBtZS5kb21MaXN0ZW5lcnMgfHwgW107XHJcblxyXG4gICAgICAgICAgICBkb21MaXN0ZW5lcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBtZS5vbk1vdXNlRW50ZXIsXHJcbiAgICAgICAgICAgICAgICBzY29wZSAgICAgOiBtZVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBtb3VzZWxlYXZlOiBtZS5vbk1vdXNlTGVhdmUsXHJcbiAgICAgICAgICAgICAgICBzY29wZSAgICAgOiBtZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG1lLmRvbUxpc3RlbmVycyA9IGRvbUxpc3RlbmVycztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHRleHQgY29uZmlnIGdvdCBjaGFuZ2VkXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZhbHVlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9sZFZhbHVlXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBhZnRlclNldFRleHQodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IG1lICAgID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIGl0ZW1zID0gbWUuaXRlbXMgfHwgW10sXHJcbiAgICAgICAgICAgICAgICBpdGVtICA9IGl0ZW1zWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS5udHlwZSA9PT0gJ2xhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgaXRlbS50ZXh0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGU6IExhYmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgIDogdmFsdWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1lLml0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgb25lIG9yIG11bHRpcGxlIHNldFRpbWVvdXQgY2FsbChzKVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmdbXXxTdHJpbmd9IHRpbWVycyB2YWxpZCB2YWx1ZXM6IGRpc21pc3MsIGhpZGUsIHNob3dcclxuICAgICAqL1xyXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVycykge1xyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aW1lcnMpKSB7XHJcbiAgICAgICAgICAgIHRpbWVycyA9IFt0aW1lcnNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG1lID0gdGhpcyxcclxuICAgICAgICAgICAgaWQ7XHJcblxyXG4gICAgICAgIHRpbWVycy5mb3JFYWNoKHRpbWVyID0+IHtcclxuICAgICAgICAgICAgaWQgPSB0aW1lciArICdEZWxheVRhc2tJZCc7XHJcblxyXG4gICAgICAgICAgICBpZiAobWVbaWRdKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobWVbaWRdKTtcclxuICAgICAgICAgICAgICAgIG1lW2lkXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluc3RhbnRseSBoaWRlcyB0aGUgdG9vbHRpcFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R8bnVsbH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBoaWRlKGRhdGEpIHtcclxuICAgICAgICBsZXQgbWUgPSB0aGlzO1xyXG5cclxuICAgICAgICBtZS5jbGVhclRpbWVvdXQoWydkaXNtaXNzJywgJ2hpZGUnLCAnc2hvdyddKTtcclxuXHJcbiAgICAgICAgaWYgKG1lLm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgbWUudW5tb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhpZGVzIHRoZSB0b29sdGlwIHVzaW5nIHRoZSBnaXZlbiBoaWRlRGVsYXlcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fG51bGx9IGRhdGFcclxuICAgICAqL1xyXG4gICAgaGlkZURlbGF5ZWQoZGF0YSkge1xyXG4gICAgICAgIGxldCBtZSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmIChtZS5oaWRlRGVsYXkpIHtcclxuICAgICAgICAgICAgbWUuaGlkZURlbGF5VGFza0lkID0gc2V0VGltZW91dChtZS5oaWRlLmJpbmQobWUpLCBtZS5oaWRlRGVsYXksIGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1lLmhpZGUoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbW91c2VlbnRlciBldmVudCBsaXN0ZW5lciBmb3IgdGhlIHRvb2x0aXAgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcclxuICAgICAqL1xyXG4gICAgb25Nb3VzZUVudGVyKGRhdGEpIHtcclxuICAgICAgICBsZXQgbWUgICAgICAgPSB0aGlzLFxyXG4gICAgICAgICAgICB0YXJnZXRJZCA9IGRhdGEucGF0aFswXS5pZDtcclxuXHJcbiAgICAgICAgLy8gb25seSB1c2UgcGF0aFswXSBiYXNlZCBldmVudHMgdG8gaWdub3JlIG1vdXNlZW50ZXIgJiBsZWF2ZSBmb3IgY2hpbGQgbm9kZXNcclxuICAgICAgICBpZiAobWUuaWQgPT09IHRhcmdldElkKSB7XHJcbiAgICAgICAgICAgIG1lLmNsZWFyVGltZW91dChbJ2Rpc21pc3MnLCAnaGlkZSddKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBtb3VzZWxlYXZlIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgdG9vbHRpcCBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBvbk1vdXNlTGVhdmUoZGF0YSkge1xyXG4gICAgICAgIGxldCBtZSAgICAgICA9IHRoaXMsXHJcbiAgICAgICAgICAgIHRhcmdldElkID0gZGF0YS5wYXRoWzBdLmlkO1xyXG5cclxuICAgICAgICAvLyBvbmx5IHVzZSBwYXRoWzBdIGJhc2VkIGV2ZW50cyB0byBpZ25vcmUgbW91c2VlbnRlciAmIGxlYXZlIGZvciBjaGlsZCBub2Rlc1xyXG4gICAgICAgIGlmIChtZS5pZCA9PT0gdGFyZ2V0SWQpIHtcclxuICAgICAgICAgICAgbWUuaGlkZURlbGF5ZWQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5zdGFudGx5IHNob3dzIHRoZSB0b29sdGlwXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBzaG93KGRhdGEpIHtcclxuICAgICAgICBsZXQgbWUgPSB0aGlzO1xyXG5cclxuICAgICAgICBtZS5zaG93RGVsYXlUYXNrSWQgPSBudWxsO1xyXG5cclxuICAgICAgICBtZS5jbGVhclRpbWVvdXQoJ2hpZGUnKTtcclxuXHJcbiAgICAgICAgaWYgKG1lLmRpc21pc3NEZWxheSkge1xyXG4gICAgICAgICAgICBtZS5kaXNtaXNzRGVsYXlUYXNrSWQgPSBzZXRUaW1lb3V0KG1lLmhpZGUuYmluZChtZSksIG1lLmRpc21pc3NEZWxheSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIW1lLm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgbWUubW91bnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93cyB0aGUgdG9vbHRpcCB1c2luZyB0aGUgZ2l2ZW4gc2hvd0RlbGF5XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxyXG4gICAgICovXHJcbiAgICBzaG93RGVsYXllZChkYXRhKSB7XHJcbiAgICAgICAgbGV0IG1lID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKG1lLnNob3dEZWxheSkge1xyXG4gICAgICAgICAgICBtZS5zaG93RGVsYXlUYXNrSWQgPSBzZXRUaW1lb3V0KG1lLnNob3cuYmluZChtZSksIG1lLnNob3dEZWxheSwgZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWUuc2hvdyhkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbk5lby5hcHBseUNsYXNzQ29uZmlnKEJhc2UpO1xyXG5cclxuZXhwb3J0IHtCYXNlIGFzIGRlZmF1bHR9OyIsImltcG9ydCBCYXNlIGZyb20gJy4uL2NvcmUvQmFzZS5tanMnO1xyXG5cclxuLyoqXHJcbiAqIE1peGluIHRvIG1ha2UgQ29tcG9uZW50cyBmbG9hdGluZyAoZS5nLiBXaW5kb3dzKVxyXG4gKiBAY2xhc3MgTmVvLnV0aWwuRmxvYXRpbmdcclxuICogQGV4dGVuZHMgTmVvLmNvcmUuQmFzZVxyXG4gKi9cclxuY2xhc3MgRmxvYXRpbmcgZXh0ZW5kcyBCYXNlIHtcclxuICAgIHN0YXRpYyBnZXRDb25maWcoKSB7cmV0dXJuIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLnV0aWwuRmxvYXRpbmcnXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBjbGFzc05hbWU6ICdOZW8udXRpbC5GbG9hdGluZycsXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBudHlwZT0nbWl4aW4tZmxvYXRpbmcnXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBudHlwZTogJ21peGluLWZsb2F0aW5nJyxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBtaXhpbj10cnVlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbWl4aW46IHRydWUsXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfG51bGx9IGFuaW1hdGVUYXJnZXRJZD1udWxsXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYW5pbWF0ZVRhcmdldElkOiBudWxsLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IG1vZGFsXz1mYWxzZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsXzogZmFsc2VcclxuICAgIH19XHJcbn1cclxuXHJcbk5lby5hcHBseUNsYXNzQ29uZmlnKEZsb2F0aW5nKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZsb2F0aW5nOyJdLCJzb3VyY2VSb290IjoiIn0=